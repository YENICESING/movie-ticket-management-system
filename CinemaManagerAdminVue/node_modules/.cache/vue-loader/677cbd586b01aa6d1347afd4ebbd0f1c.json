{"remainingRequest":"D:\\whisper\\cinema\\CinemaManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\whisper\\cinema\\CinemaManagerAdminVue\\src\\views\\movie\\MovieInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\whisper\\cinema\\CinemaManagerAdminVue\\src\\views\\movie\\MovieInfo.vue","mtime":1741600760586},{"path":"D:\\whisper\\cinema\\CinemaManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\whisper\\cinema\\CinemaManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\whisper\\cinema\\CinemaManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\whisper\\cinema\\CinemaManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTW92aWVJbmZvIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcXVlcnlJbmZvOiB7CiAgICAgICAgbW92aWVJZDogJycsCiAgICAgICAgbW92aWVBcmVhOiAnJywKICAgICAgICBtb3ZpZU5hbWU6ICcnLAogICAgICAgIHN0YXJ0RGF0ZTogJycsCiAgICAgICAgZW5kRGF0ZTogJycsCiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogNwogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo5MjMxLycsCiAgICAgIC8v5o6n5Yi25a+56K+d5qGG55qE5pi+56S65LiO6ZqQ6JePCiAgICAgIGFkZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3RlZE1vdmllQ2F0ZWdvcnk6W10sCiAgICAgIHNlbGVjdGVkTW92aWVBcmVhOiAnJywKICAgICAgc2VsZWN0ZWREYXRlOiBbXSwKICAgICAgaW5wdXRNb3ZpZU5hbWU6ICcnLAogICAgICBjYXRlZ29yeUxpc3Q6W10sCiAgICAgIG1vdmllTGlzdDogW10sCiAgICAgIG1vdmllQXJlYUxpc3Q6IFsi5Lit5Zu95aSn6ZmGIiwgIue+juWbvSIsICLpn6nlm70iLCAi5pel5pysIiwgIuS4reWbvemmmea4ryIsICLkuK3lm73lj7Dmub4iLCAi5rOw5Zu9IiwgIuWNsOW6piIsCiAgICAgICAgIuazleWbvSIsICLoi7Hlm70iLCAi5L+E572X5pavIiwgIuaEj+Wkp+WIqSIsICLopb/nj63niZkiLCAi5b635Zu9IiwgIuazouWFsCIsICLmvrPlpKfliKnkupoiLCAi5LyK5pyXIiwgIuWFtuS7liJdLAogICAgICBlZGl0Rm9ybToge30sCiAgICAgIGNoZWNrQWJsZUlkOiB7fSwKICAgICAgZWRpdENhdGVnb3J5Rm9ybTpbXSwKICAgICAgbW92aWVJZDonJywKICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBlZGl0Q2F0ZWdvcnlWaXNpYmxlOiBmYWxzZSwKICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlhbG9nSW1hZ2VVcmw6ICcnLAogICAgICBkaXNhYmxlZDpmYWxzZSwKICAgICAgLy/nlLXlvbHlsIHpnaLlop7liKDlj5jph48KICAgICAgcG9zdGVyOiBbXSwKICAgICAgLy/lj5HpgIHnu5nlkI7nq6/nmoRKU09O5Zu+54mHCiAgICAgIHBvc3Rlckw6IFtdLAogICAgICBkZWxldGVQb3N0TGlzdDpbXSwKICAgICAgLy/mt7vliqDliKDpmaTlm77niYfpm4Yg5Yqo5oCB57uR5a6a5Zu+54mH5YiX6KGoCiAgICAgIHBpY3M6IFtdLAogICAgICAvLyDlj5HpgIHnu5nlkI7nq6/nmoRKU09O5Zu+54mH5pWw57uECiAgICAgIHBpY3R1cmVMaXN0OiBbXSwKICAgICAgcGljTnVtczowLAogICAgICBkZWxldGVQaWNMaXN0OltdLAogICAgICAvL+a3u+WKoOeUteW9seihqOWNleaVsOaNrgogICAgICBhZGRGb3JtOiB7CiAgICAgICAgbW92aWVJZDogJycsCiAgICAgICAgbW92aWVOYW1lOiAnJywKICAgICAgICBtb3ZpZUFyZWE6ICcnLAogICAgICAgIG1vdmllTGVuZ3RoOiAwLAogICAgICAgIHJlbGVhc2VEYXRlOiAnJywKICAgICAgICBtb3ZpZUJveE9mZmljZTogJycsCiAgICAgICAgbW92aWVJbnRyb2R1Y3Rpb246ICcnLAogICAgICAgIG1vdmllUGljdHVyZXM6ICcnLAogICAgICAgIG1vdmllUG9zdGVyOicnCiAgICAgIH0sCiAgICAgIGFkZEZvcm1SdWxlczogewogICAgICAgIG1vdmllTmFtZTogWwogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55S15b2x5ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInfQogICAgICAgIF0sCiAgICAgICAgbW92aWVBcmVhOiBbCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nnlLXlvbHljLrln58nLCB0cmlnZ2VyOiAnYmx1cid9CiAgICAgICAgXQogICAgICB9LAogICAgICAvL+S/ruaUuemqjOivgeihqOWNleinhOWImeWvueixoQogICAgICBlZGl0Rm9ybVJ1bGVzOiB7CiAgICAgICAgbW92aWVOYW1lOiBbCiAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXnlLXlvbHlkI3np7AnLCB0cmlnZ2VyOiAnYmx1cid9CiAgICAgICAgXSwKICAgICAgICBtb3ZpZUFyZWE6IFsKICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeeUteW9seWMuuWfnycsIHRyaWdnZXI6ICdibHVyJ30KICAgICAgICBdCiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE1vdmllTGlzdCgpCiAgICB0aGlzLmdldENhdGVnb3J5TGlzdCgpCiAgfSwKIG1ldGhvZHM6IHsKICAgIGdldE1vdmllTGlzdCgpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ubW92aWVOYW1lID0gdGhpcy5pbnB1dE1vdmllTmFtZQogICAgICB0aGlzLnF1ZXJ5SW5mby5tb3ZpZUFyZWEgPSB0aGlzLnNlbGVjdGVkTW92aWVBcmVhCiAgICAgIGlmICghdGhpcy5zZWxlY3RlZERhdGUpIHsKICAgICAgICB0aGlzLnF1ZXJ5SW5mby5zdGFydERhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZVswXQogICAgICAgIHRoaXMucXVlcnlJbmZvLmVuZERhdGUgPSB0aGlzLnNlbGVjdGVkRGF0ZVsxXQogICAgICB9CiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsKICAgICAgYXhpb3MuZ2V0KCdzeXNNb3ZpZS9maW5kJywge3BhcmFtczogX3RoaXMucXVlcnlJbmZvfSkudGhlbihyZXNwID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwKQogICAgICAgIF90aGlzLm1vdmllTGlzdCA9IHJlc3AuZGF0YS5kYXRhOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcC5kYXRhLnRvdGFsOwogICAgICAgIF90aGlzLnF1ZXJ5SW5mby5wYWdlU2l6ZSA9IHJlc3AuZGF0YS5wYWdlU2l6ZTsKICAgICAgICBfdGhpcy5xdWVyeUluZm8ucGFnZU51bSA9IHJlc3AuZGF0YS5wYWdlTnVtOwogICAgICB9KQogICAgfSwKICAgIGdldENhdGVnb3J5TGlzdCgpIHsKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzCiAgICAgIGF4aW9zLmdldCgnc3lzTW92aWVDYXRlZ29yeS9maW5kJykudGhlbihyZXNwPT57CiAgICAgICAgX3RoaXMuY2F0ZWdvcnlMaXN0ID0gcmVzcC5kYXRhLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuY2F0ZWdvcnlMaXN0KQogICAgICB9KQogICAgfSwKICAgIGlmU2hvdyhpZCkgewogICAgICBsZXQgbCA9IHRydWUKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVkaXRDYXRlZ29yeUZvcm0ubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaWQgPT09IHRoaXMuZWRpdENhdGVnb3J5Rm9ybVtpXS5tb3ZpZUNhdGVnb3J5SWQpIHsKICAgICAgICAgIGwgPWZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBsCiAgICB9LAogICAgaGFuZGxlU2l6ZUNoYW5nZShuZXdTaXplKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VTaXplID0gbmV3U2l6ZQogICAgICB0aGlzLmdldE1vdmllTGlzdCgpCiAgICAgIGNvbnNvbGUubG9nKG5ld1NpemUpCiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlKSB7CiAgICAgIHRoaXMucXVlcnlJbmZvLnBhZ2VOdW0gPSBuZXdQYWdlCiAgICAgIHRoaXMuZ2V0TW92aWVMaXN0KCkKICAgICAgY29uc29sZS5sb2cobmV3UGFnZSkKICAgIH0sCiAgICBhc3luYyBzdWJtaXRGaWxlKCkgewogICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBpY3MubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICAgIGlmICh0aGlzLnBpY3NbaV0uc3RhdHVzID09PSAnc3VjY2VzcycpIHsKICAgICAgICAgIGxldCBzID0gdGhpcy5waWNzW2ldLnVybAogICAgICAgICAgdGhpcy5waWN0dXJlTGlzdC5wdXNoKHMuc3Vic3RyaW5nKHMuaW5kZXhPZignL2ltYWdlcycpKSkKICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgfQogICAgICAgIGxldCBmaWxlID0gdGhpcy5waWNzW2ldLnJhdwogICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpCiAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgndXBsb2FkL21vdmllJywgZm9ybURhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgX3RoaXMucGljdHVyZUxpc3QucHVzaChyZXNwb25zZS5kYXRhLmRhdGEpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHN1Ym1pdEZpbGVQKCkgewogICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvc3Rlci5sZW5ndGg7IGkrKykgewogICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgaWYgKHRoaXMucG9zdGVyW2ldLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICBsZXQgcyA9IHRoaXMucG9zdGVyW2ldLnVybAogICAgICAgICAgdGhpcy5wb3N0ZXJMLnB1c2gocy5zdWJzdHJpbmcocy5pbmRleE9mKCcvaW1hZ2VzJykpKQogICAgICAgICAgY29udGludWUKICAgICAgICB9CiAgICAgICAgbGV0IGZpbGUgPSB0aGlzLnBvc3RlcltpXS5yYXcKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKQogICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoJ3VwbG9hZC9tb3ZpZScsIGZvcm1EYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIF90aGlzLnBvc3RlckwucHVzaChyZXNwb25zZS5kYXRhLmRhdGEpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIC8vIOebkeWQrOa3u+WKoOWvueivneahhueahOWFs+mXreS6i+S7tgogICAgYWRkRGlhbG9nQ2xvc2VkKCkgewogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYucmVzZXRGaWVsZHMoKQogICAgICB0aGlzLiRyZWZzLnBpY3R1cmVSZWYuY2xlYXJGaWxlcygpCiAgICAgIHRoaXMuJHJlZnMucG9zdGVyUmVmLmNsZWFyRmlsZXMoKQogICAgICB0aGlzLnBvc3RlciA9IFtdCiAgICAgIHRoaXMucG9zdGVyTD1bXQogICAgICB0aGlzLnBpY3MgPSBbXQogICAgICB0aGlzLnBpY3R1cmVMaXN0ID0gW10KICAgIH0sCiAgICAvLyDnm5HlkKzmt7vliqDmjInpkq4KICAgIGFzeW5jIGFkZE1vdmllKCkgewogICAgICBhd2FpdCB0aGlzLnN1Ym1pdEZpbGUoKQogICAgICBhd2FpdCB0aGlzLnN1Ym1pdEZpbGVQKCkKICAgICAgdGhpcy5hZGRGb3JtLm1vdmllUGljdHVyZXMgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnBpY3R1cmVMaXN0KQogICAgICB0aGlzLmFkZEZvcm0ubW92aWVQb3N0ZXIgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnBvc3RlckwpCiAgICAgIGNvbnN0IF90aGlzID0gdGhpcwogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHZhbGlkKQogICAgICAgIGlmICghdmFsaWQpIHJldHVybgogICAgICAgIC8v6aKE5qCh6aqM5oiQ5Yqf77yM5Y+R572R57uc6K+35rGCCiAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoJ3N5c01vdmllJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMuYWRkRm9ybSkpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKQogICAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlICE9PSAyMDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5re75Yqg55S15b2x5L+h5oGv5aSx6LSl77yBJykKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC8v6ZqQ6JeP5re75Yqg5a+56K+d5qGGCiAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAvL+mHjeaWsOWKoOi9veWIl+ihqAogICAgICAgIHRoaXMuZ2V0TW92aWVMaXN0KCkKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOeUteW9seS/oeaBr+aIkOWKn++8gScpCiAgICAgIH0pCiAgICB9LAogICAgLy8g55uR5ZCs5L+u5pS55a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2CiAgICBlZGl0RGlhbG9nQ2xvc2VkKCkgewogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtUmVmLnJlc2V0RmllbGRzKCkKICAgICAgdGhpcy4kcmVmcy5waWN0dXJlRWRpdFJlZi5jbGVhckZpbGVzKCkKICAgICAgdGhpcy4kcmVmcy5wb3N0ZXJFZGl0UmVmLmNsZWFyRmlsZXMoKQogICAgICB0aGlzLnBpY3MgPSBbXQogICAgICB0aGlzLnBpY3R1cmVMaXN0ID0gW10KICAgICAgdGhpcy5wb3N0ZXJMID0gW10KICAgICAgdGhpcy5wb3N0ZXIgPSBbXQogICAgfSwKICAgIC8v55uR5ZCs5L+u5pS557G75Yir5a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2CiAgICBlZGl0Q2F0ZWdvcnlEaWFsb2dDbG9zZWQoKXsKICAgICAgdGhpcy5zZWxlY3RlZE1vdmllQ2F0ZWdvcnkgPSAnJwogICAgfSwKICAgIC8vIOS/ruaUueeUteW9seS/oeaBr+WvueivneahhgogICAgYXN5bmMgZWRpdE1vdmllSW5mbygpIHsKICAgICAgYXdhaXQgdGhpcy5zdWJtaXRGaWxlKCkKICAgICAgdGhpcy5lZGl0Rm9ybS5tb3ZpZVBpY3R1cmVzID0gSlNPTi5zdHJpbmdpZnkodGhpcy5waWN0dXJlTGlzdCkKICAgICAgYXdhaXQgdGhpcy5zdWJtaXRGaWxlUCgpCiAgICAgIHRoaXMuZWRpdEZvcm0ubW92aWVQb3N0ZXIgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnBvc3RlckwpCiAgICAgIHRoaXMuJHJlZnMuZWRpdEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGNvbnN0IF90aGlzID0gdGhpcwogICAgICAgIGlmICghdmFsaWQpIHJldHVybgogICAgICAgIGxldCBzdWNjZXNzID0gdHJ1ZQogICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucHV0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIGF3YWl0IGF4aW9zLnB1dCgnc3lzTW92aWUnLCBKU09OLnN0cmluZ2lmeShfdGhpcy5lZGl0Rm9ybSkpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICBpZiAocmVzcC5kYXRhLmNvZGUgIT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkv67mlLnnlLXlvbHkv6Hmga/lpLHotKXvvIEnKQogICAgICAgICAgICBzdWNjZXNzID0gZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIGlmICghc3VjY2VzcykgcmV0dXJuCiAgICAgICAgZm9yKGxldCBzIG9mIHRoaXMuZGVsZXRlUGljTGlzdCl7CiAgICAgICAgICBhd2FpdCBheGlvcy5nZXQoJy91cGxvYWQvZGVsZXRlP2ZpbGVQYXRoPScgKyBzLnN1YnN0cmluZyhzLmluZGV4T2YoJy9pbWFnZXMnKSkpCiAgICAgICAgfQogICAgICAgIGZvcihsZXQgcyBvZiB0aGlzLmRlbGV0ZVBvc3RMaXN0KXsKICAgICAgICAgIGF3YWl0IGF4aW9zLmdldCgnL3VwbG9hZC9kZWxldGU/ZmlsZVBhdGg9JyArIHMuc3Vic3RyaW5nKHMuaW5kZXhPZignL2ltYWdlcycpKSkKICAgICAgICB9CiAgICAgICAgdGhpcy5lZGl0RGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgdGhpcy5nZXRNb3ZpZUxpc3QoKQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS555S15b2x5L+h5oGv5oiQ5Yqf77yBJykKICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2UoZmlsZSwgZmlsZWxpc3QpIHsKICAgICAgdGhpcy5waWNzID0gZmlsZWxpc3Quc2xpY2UoMCkKICAgICAgY29uc29sZS5sb2codGhpcy5waWNzKQogICAgfSwKICAgIGhhbmRsZUNoYW5nZVAoZmlsZSwgZmlsZWxpc3QpIHsKICAgICAgdGhpcy5wb3N0ZXIgPSBmaWxlbGlzdAogICAgICBjb25zb2xlLmxvZyh0aGlzLnBvc3RlcikKICAgIH0sCiAgICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlKSB7CiAgICAgIHRoaXMucGljdHVyZUxpc3QucHVzaChyZXNwb25zZS5kYXRhKQogICAgICB0aGlzLmFkZEZvcm0gPSBKU09OLnN0cmluZ2lmeSh0aGlzLnBpY3R1cmVMaXN0KQogICAgICB0aGlzLmVkaXRGb3JtID0gSlNPTi5zdHJpbmdpZnkodGhpcy5waWN0dXJlTGlzdCkKICAgIH0sCiAgICBoYW5kbGVTdWNjZXNzUChyZXNwb25zZSkgewogICAgICB0aGlzLnBvc3RlckwucHVzaChyZXNwb25zZS5kYXRhKQogICAgICB0aGlzLmFkZEZvcm0gPSBKU09OLnN0cmluZ2lmeSh0aGlzLnBvc3RlckwpCiAgICAgIHRoaXMuZWRpdEZvcm0gPSBKU09OLnN0cmluZ2lmeSh0aGlzLnBvc3RlckwpCiAgICB9LAogICAgaGFuZGxlUGljdHVyZUNhcmRQcmV2aWV3KGZpbGUpIHsKICAgICAgdGhpcy5kaWFsb2dJbWFnZVVybCA9IGZpbGUudXJsOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlld1AoZmlsZSkgewogICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlUmVtb3ZlKGZpbGUsZmlsZWxpc3QpIHsKICAgICAgY29uc3QgZmlsZVBhdGggPSBmaWxlLnVybAogICAgICBjb25zb2xlLmxvZyhmaWxlUGF0aCkKICAgICAgY29uc3QgaWR4ID0gdGhpcy5waWNzLmZpbmRJbmRleCh4ID0+IHgudXJsID09PSBmaWxlUGF0aCkKICAgICAgaWYoZmlsZS5zdGF0dXMgPT09ICdzdWNjZXNzJyl7CiAgICAgICAgdGhpcy5kZWxldGVQaWNMaXN0LnB1c2goZmlsZS51cmwpCiAgICAgIH0KICAgICAgdGhpcy5waWNzLnNwbGljZShpZHgsIDEpCiAgICB9LAogICAgaGFuZGxlUmVtb3ZlUChmaWxlKSB7CiAgICAgIGNvbnN0IGZpbGVQYXRoID0gZmlsZS51cmwKICAgICAgY29uc29sZS5sb2coZmlsZVBhdGgpCiAgICAgIGNvbnN0IGlkeCA9IHRoaXMucG9zdGVyLmZpbmRJbmRleCh4PT4geC51cmwgPT09IGZpbGVQYXRoKQogICAgICBpZihmaWxlLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKXsKICAgICAgICB0aGlzLmRlbGV0ZVBvc3RMaXN0LnB1c2goZmlsZS51cmwpCiAgICAgIH0KICAgICAgdGhpcy5wb3N0ZXIuc3BsaWNlKGlkeCwxKQogICAgfSwKICAgIGhhbmRsZUVycm9yKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICB9LAogICAgdG9Nb3ZpZUluZm8oaWQpIHsKICAgICAgd2luZG93Lm9wZW4oJ2h0dHA6Ly9sb2NhbGhvc3Q6OTIzMi9tb3ZpZUluZm8vJyArIGlkKQogICAgfSwKICAgIGlzQWJsZUVkaXQoaWQpIHsKICAgICAgdGhpcy5jaGVja0FibGVJZC5tb3ZpZUlkID0gaWQKICAgICAgYXhpb3MuZ2V0KCdzeXNTZXNzaW9uL2lzQWJsZUVkaXQnLCB7cGFyYW1zOiB0aGlzLmNoZWNrQWJsZUlkfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS50b3RhbCkKICAgICAgICBsZXQgc2Vzc2lvbnMgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS50b3RhbCA9PT0gMCkgewogICAgICAgICAgY29uc29sZS5sb2coJ+epuueahOWPr+aUuScpCiAgICAgICAgICB0aGlzLnNob3dFZGl0RGlhbG9nKGlkKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn5L+u5pS55YmN5Yik5pat5pyJ5pyq5a6M5oiQc2Vzc2lvbicpCiAgICAgICAgICBsZXQgc2Vzc2lvbklkcyA9ICcnCiAgICAgICAgICBmb3IgKGxldCB0ZW1wIG9mIHNlc3Npb25zKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRlbXApCiAgICAgICAgICAgIHNlc3Npb25JZHMgKz0gdGVtcC5zZXNzaW9uSWQrJyAnCiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZygnc2Vzc2lvbklkcyBpcyA6ICcrc2Vzc2lvbklkcykKICAgICAgICAgIHRoaXMuJGFsZXJ0KCfmirHmrYnvvIHmnInmnKrlrozmiJDnlLXlvbHlnLrmrKHvvIzkuI3og73kv67mlLnnlLXlvbHkv6Hmga/jgIJcbicrJ+WvvOiHtOW8guW4uOeahOWcuuasoee8luWPt+S4ujogJytzZXNzaW9uSWRzLCAn5L+u5pS56K+35rGC5byC5bi46YCa55+lJywgewogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+aIkeefpemBk+S6hicsCiAgICAgICAgICAgIGNhbGxiYWNrOiBhY3Rpb24gPT4gewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbW92aWUnKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDmmL7npLrkv67mlLnlr7nor53moYbvvIzlm57mmL7mlbDmja4KICAgIGFzeW5jIHNob3dFZGl0RGlhbG9nKGlkKSB7CiAgICAgIGNvbnN0IF90aGlzID0gdGhpcwogICAgICBhd2FpdCBheGlvcy5nZXQoJ3N5c01vdmllL2ZpbmQvJyArIGlkKS50aGVuKHJlc3AgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3ApCiAgICAgICAgX3RoaXMuZWRpdEZvcm0gPSByZXNwLmRhdGEuZGF0YQogICAgICB9KQogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgSlNPTi5wYXJzZSh0aGlzLmVkaXRGb3JtLm1vdmllUGljdHVyZXMpKSB7CiAgICAgICAgbGV0IHBpYyA9IHt9CiAgICAgICAgcGljWyduYW1lJ10gPSAnJwogICAgICAgIHBpY1sndXJsJ10gPSB0aGlzLmdsb2JhbC5iYXNlICsgaXRlbQogICAgICAgIHRoaXMucGljcy5wdXNoKHBpYykKICAgICAgfQogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgSlNPTi5wYXJzZSh0aGlzLmVkaXRGb3JtLm1vdmllUG9zdGVyKSkgewogICAgICAgIGxldCBwaWMgPSB7fQogICAgICAgIHBpY1snbmFtZSddID0gJycKICAgICAgICBwaWNbJ3VybCddID0gdGhpcy5nbG9iYWwuYmFzZSArIGl0ZW0KICAgICAgICB0aGlzLnBvc3Rlci5wdXNoKHBpYykKICAgICAgfQogICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIC8v5pi+56S65L+u5pS557G75Yir5a+56K+d5qGGLOWbnuaYvuaVsOaNrgogICAgYXN5bmMgc2hvd0VkaXRDYXRlZ29yeURpYWxvZyhpZCl7CiAgICAgIGNvbnN0IF90aGlzID0gdGhpcwogICAgICBfdGhpcy5tb3ZpZUlkID0gaWQKICAgICAgYXdhaXQgYXhpb3MuZ2V0KCdzeXNNb3ZpZS9maW5kLycraWQpLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICBfdGhpcy5lZGl0Q2F0ZWdvcnlGb3JtID0gcmVzcG9uc2UuZGF0YS5kYXRhLm1vdmllQ2F0ZWdvcnlMaXN0CiAgICAgICAgfSkKICAgICAgdGhpcy5lZGl0Q2F0ZWdvcnlWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIC8v5Y+W5raI5L+u5pS5CiAgICBjYW5jZWxFZGl0KCl7CiAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICB0aGlzLmRlbGV0ZVBpY0xpc3Quc3BsaWNlKDAsdGhpcy5kZWxldGVQaWNMaXN0Lmxlbmd0aCkKICAgICAgdGhpcy5kZWxldGVQb3N0TGlzdC5zcGxpY2UoMCx0aGlzLmRlbGV0ZVBvc3RMaXN0Lmxlbmd0aCkKICAgIH0sCiAgICAvLyDnm5HlkKzlpJrpgInmoYblj5jljJYKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbAogICAgfSwKICAgIC8vIOaJuemHj+WIoOmZpOWJjeagoemqjAogICAgYXN5bmMgaXNBYmxlTXVsdGlwbGVEZWxldGUoKSB7CiAgICAgIGxldCBhYmxlRGVsZXRlID0gdHJ1ZQogICAgICBsZXQgaWRzID0gJycKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5jaGVja0FibGVJZC5tb3ZpZUlkID0gdGhpcy5tdWx0aXBsZVNlbGVjdGlvbltpXS5tb3ZpZUlkCiAgICAgICAgY29uc3QgeyBkYXRhIDogcmVzIH0gPSBhd2FpdCBheGlvcy5nZXQoJ3N5c1Nlc3Npb24vaXNBYmxlRWRpdCcsIHtwYXJhbXM6IHRoaXMuY2hlY2tBYmxlSWR9KQogICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggIT09IDApIHsKICAgICAgICAgIGlkcyArPSB0aGlzLm11bHRpcGxlU2VsZWN0aW9uW2ldLm1vdmllSWQgKyAnICcKICAgICAgICAgIGFibGVEZWxldGUgPSBmYWxzZQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoYWJsZURlbGV0ZSA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLiRhbGVydCgn5oqx5q2J77yB5pyJ5pyq5a6M5oiQ55S15b2x5Zy65qyh77yM5LiN6IO95om56YeP5Yig6Zmk55S15b2x5L+h5oGv44CCXG4nICsgJ+WvvOiHtOW8guW4uOeahOeUteW9see8luWPt+S4ujogJyArIGlkcywgJ+aJuemHj+WIoOmZpOivt+axguW8guW4uOmAmuefpScsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5oiR55+l6YGT5LqGJywKICAgICAgICAgIGNhbGxiYWNrOiBhY3Rpb24gPT4gewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL21vdmllJykKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGF3YWl0IHRoaXMubXVsdGlwbGVEZWxldGUoKQogICAgfSwKICAgIC8vIOaJuemHj+WIoOmZpOeUteW9sQogICAgYXN5bmMgbXVsdGlwbGVEZWxldGUoKSB7CiAgICAgIGNvbnN0IF90aGlzID0gdGhpcwogICAgICAvL+ivoumXrueUqOaIt+aYr+WQpuehruiupOWIoOmZpAogICAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6L+Z5Lqb5p2h55uuLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLmNhdGNoKGVyciA9PiBlcnIpCgogICAgICAvLyDnlKjmiLfnoa7orqTliKDpmaQsIHJlc3DkuLrlrZfnrKbkuLIiY29uZmlybSIKICAgICAgLy8g55So5oi35Y+W5raI5Yig6Zmk77yMcmVzcOS4uuWtl+espuS4siJjYW5jZWwiCiAgICAgIGlmIChyZXNwID09PSAnY2FuY2VsJykgewogICAgICAgIHJldHVybiBfdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Llj5bmtojliKDpmaQnKQogICAgICB9CgogICAgICBsZXQgaWRzID0gW10KICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGRhdGEgPT4gewogICAgICAgIGxldCBpdGVtID0gZGF0YS5tb3ZpZUlkCiAgICAgICAgaWRzLnB1c2goaXRlbSkKICAgICAgfSkKICAgICAgY29uc29sZS5sb2coaWRzKQogICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgIGF3YWl0IGF4aW9zLmRlbGV0ZSgnc3lzTW92aWUvJyArIGlkcywgSlNPTi5zdHJpbmdpZnkoaWRzKSkudGhlbihyZXNwID0+IHsKICAgICAgICBjb25zb2xlLmxvZygxMjMpCiAgICAgICAgaWYgKHJlc3AuZGF0YS5jb2RlICE9PSAyMDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5om56YeP5Yig6Zmk55S15b2x5aSx6LSl77yBJykKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHRoaXMuZ2V0TW92aWVMaXN0KCkKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmibnph4/liKDpmaTnlLXlvbHmiJDlip/vvIEnKQogICAgfSwKICAgIGFzeW5jIGlzQWJsZURlbGV0ZShpZCkgewogICAgICB0aGlzLmNoZWNrQWJsZUlkLm1vdmllSWQgPSBpZAogICAgICBhd2FpdCBheGlvcy5nZXQoJ3N5c1Nlc3Npb24vaXNBYmxlRWRpdCcsIHtwYXJhbXM6IHRoaXMuY2hlY2tBYmxlSWR9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnRvdGFsKQogICAgICAgIGxldCBzZXNzaW9ucyA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnRvdGFsID09PSAwKSB7CiAgICAgICAgICB0aGlzLmRlbGV0ZU1vdmllQnlJZChpZCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ+WIoOmZpOWJjeWIpOaWreacieacquWujOaIkHNlc3Npb24nKQogICAgICAgICAgbGV0IHNlc3Npb25JZHMgPSAnJwogICAgICAgICAgZm9yIChsZXQgdGVtcCBvZiBzZXNzaW9ucykgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0ZW1wKQogICAgICAgICAgICBzZXNzaW9uSWRzICs9IHRlbXAuc2Vzc2lvbklkKycgJwogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2coJ3Nlc3Npb25JZHMgaXMgOiAnK3Nlc3Npb25JZHMpCiAgICAgICAgICB0aGlzLiRhbGVydCgn5oqx5q2J77yB5pyJ5pyq5a6M5oiQ55S15b2x5Zy65qyh77yM5LiN6IO95Yig6Zmk55S15b2x5L+h5oGv44CCXG4nKyflr7zoh7TlvILluLjnmoTlnLrmrKHnvJblj7fkuLo6ICcrc2Vzc2lvbklkcywgJ+WIoOmZpOivt+axguW8guW4uOmAmuefpScsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7orqQnLAogICAgICAgICAgICBjYWxsYmFjazogYWN0aW9uID0+IHsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL21vdmllJykKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5Y2V5Liq5Yig6Zmk55S15b2xCiAgICBhc3luYyBkZWxldGVNb3ZpZUJ5SWQoaWQpIHsKICAgICAgbGV0IGRlbGV0ZUluZm8gPSBpZAogICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgLy/or6Lpl67nlKjmiLfmmK/lkKbnoa7orqTliKDpmaQKICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeadoeebriwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS5jYXRjaChlcnIgPT4gZXJyKQoKICAgICAgLy8g55So5oi356Gu6K6k5Yig6ZmkLCByZXNw5Li65a2X56ym5LiyImNvbmZpcm0iCiAgICAgIC8vIOeUqOaIt+WPlua2iOWIoOmZpO+8jHJlc3DkuLrlrZfnrKbkuLIiY2FuY2VsIgogICAgICBjb25zb2xlLmxvZyhyZXNwKQogICAgICBpZiAocmVzcCA9PT0gJ2NhbmNlbCcpIHsKICAgICAgICByZXR1cm4gX3RoaXMuJG1lc3NhZ2UuaW5mbygn5bey5Y+W5raI5Yig6ZmkJykKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coZGVsZXRlSW5mbykKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICBhd2FpdCBheGlvcy5kZWxldGUoJ3N5c01vdmllLycgKyBkZWxldGVJbmZvLCBKU09OLnN0cmluZ2lmeShkZWxldGVJbmZvKSkudGhlbihyZXNwID0+IHsKICAgICAgICBpZiAocmVzcC5kYXRhLmNvZGUgIT09IDIwMCkgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk55S15b2x5L+h5oGv5aSx6LSl77yBJykKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHRoaXMuZ2V0TW92aWVMaXN0KCkKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTnlLXlvbHkv6Hmga/miJDlip/vvIEnKQogICAgfSwKICAgIGFzeW5jIGRlbGV0ZUNhdGVnb3J5KGNhdGVnb3J5SWQpewogICAgICBjb25zb2xlLmxvZygn57G75Z6LaWQnKQogICAgICBjb25zb2xlLmxvZyhjYXRlZ29yeUlkKQogICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKCdzeXNNb3ZpZVRvQ2F0ZWdvcnkvJyt0aGlzLm1vdmllSWQrJy8nK2NhdGVnb3J5SWQpLnRoZW4ocmVzcD0+ewogICAgICAgIGNvbnNvbGUubG9nKHJlc3ApCiAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk57G75Z6L5oiQ5YqfJykKICAgICAgfSkKICAgICAgYXdhaXQgYXhpb3MuZ2V0KCdzeXNNb3ZpZS9maW5kLycrdGhpcy5tb3ZpZUlkKS50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgX3RoaXMuZWRpdENhdGVnb3J5Rm9ybSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5tb3ZpZUNhdGVnb3J5TGlzdAogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUV4Y2VlZCgpewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnlLXlvbHlsIHpnaLkuI3og73otoXov4fkuIDlvKAhJykKICAgIH0sCiAgICBhc3luYyBhZGRDYXRlZ29yeSgpewogICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgYXdhaXQgYXhpb3MucG9zdCgnc3lzTW92aWVUb0NhdGVnb3J5LycrdGhpcy5tb3ZpZUlkKycvJyt0aGlzLnNlbGVjdGVkTW92aWVDYXRlZ29yeSkudGhlbihyZXNwPT57CiAgICAgICAgY29uc29sZS5sb2cocmVzcCkKICAgICAgICBpZiAocmVzcC5kYXRhLmNvZGUgIT09MjAwKSByZXR1cm4gdGhpcy4kYWxlcnQoJ+a3u+WKoOeUteW9seexu+WIq+Wksei0pScsICfmt7vliqDnlLXlvbHnsbvliKvlvILluLjpgJrnn6UnLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+aIkeefpemBk+S6hicKICAgICAgICB9KQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg55S15b2x57G75Yir5oiQ5YqfIikKICAgICAgfSkKICAgICAgYXhpb3MuZ2V0KCdzeXNNb3ZpZS9maW5kLycrdGhpcy5tb3ZpZUlkKS50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgX3RoaXMuZWRpdENhdGVnb3J5Rm9ybSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5tb3ZpZUNhdGVnb3J5TGlzdAogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["MovieInfo.vue"],"names":[],"mappings":";AAsUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MovieInfo.vue","sourceRoot":"src/views/movie","sourcesContent":["/*getMovieList：根据查询条件发送 GET 请求获取电影列表数据，并更新页面显示。\ngetCategoryList：发送 GET 请求获取电影类型列表数据。\nhandleSizeChange 和 handleCurrentChange：处理分页组件的每页显示记录数和页码变化事件，重新获取电影列表数据。\naddMovie：处理添加电影的逻辑，包括表单验证、图片上传和数据提交。\neditMovieInfo：处理修改电影信息的逻辑，包括表单验证、图片上传、数据提交和删除已删除的图片。\nisAbleEdit 和 isAbleDelete：在修改和删除电影信息前，检查是否有未完成的电影场次，如有则给出提示，否则执行相应操作。\nmultipleDelete：处理批量删除电影的逻辑，包括询问用户确认和数据提交。\ndeleteCategory 和 addCategory：处理电影类型的删除和添加逻辑。*/\n<template>\n  <div>\n    <!--面包屑导航区-->\n    <div class=\"board\">\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n        <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\n        <el-breadcrumb-item>电影管理</el-breadcrumb-item>\n        <el-breadcrumb-item>电影信息</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n\n    <el-card class=\"box-card\">\n      <el-row :addDialogVisible=\"24\">\n        <el-col :span=\"3\">\n          <el-input v-model=\"inputMovieName\" placeholder=\"请输入电影名称\" clearable></el-input>\n        </el-col>\n        <el-col :span=\"4\">\n          <el-select class=\"el-select-search\" v-model=\"selectedMovieArea\" placeholder=\"请选择电影地区\" clearable>\n            <el-option\n                v-for=\"item in movieAreaList\"\n                :key=\"item\"\n                :label=\"item\"\n                :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-col>\n        <el-col :span=\"12\">\n\n            <el-date-picker\n                    :unlink-panels=\"true\"\n                    v-model=\"selectedDate\"\n                    type=\"datetimerange\"\n                    range-separator=\"至\"\n                    start-placeholder=\"开始日期\"\n                    end-placeholder=\"结束日期\">\n            </el-date-picker>\n        </el-col>\n        <el-col :span=\"5\">\n          <el-button class=\"el-button-search\" @click=\"getMovieList\"  style=\"font-size: 18px;\"> 搜索</el-button>\n        </el-col>\n      </el-row>\n      <el-row :gutter=\"20\" class=\"row2\">\n\n        <el-col :span=\"24\">\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\" style=\"font-size: 18px;\">\n             添加电影\n          </el-button>\n          <el-button type=\"danger\" @click=\"isAbleMultipleDelete\" style=\"font-size: 18px;\">\n             批量删除\n          </el-button>\n        </el-col>\n      </el-row>\n\n<!--    电影信息列表-->\n    <el-table :data=\"movieList\" style=\"width: 100%\" border stripe @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n      <el-table-column prop=\"movieId\" label=\"#\" width=\"40\"></el-table-column>\n      <el-table-column prop=\"movieName\" label=\"电影名称\"></el-table-column>\n      <el-table-column prop=\"movieArea\" label=\"电影区域\"></el-table-column>\n      <el-table-column prop=\"movieLength\" label=\"电影时长（分钟）\"></el-table-column>\n      <el-table-column prop=\"releaseDate\" label=\"上映时间\"></el-table-column>\n      <el-table-column prop=\"movieBoxOffice\" label=\"票房\"></el-table-column>\n<!--      操作按钮-->\n      <el-table-column label=\"操作\" width=\"500\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-tooltip effect=\"dark\" content=\"查看电影信息详细\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\n            <el-button type=\"success\" @click=\"toMovieInfo(scope.row.movieId)\" style=\"font-size: 18px;\">\n               详情\n            </el-button>\n          </el-tooltip>\n          <el-tooltip effect=\"dark\" content=\"修改电影信息\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\n            <el-button type=\"primary\" @click=\"isAbleEdit(scope.row.movieId)\" style=\"font-size: 18px;\">\n               修改\n            </el-button>\n          </el-tooltip>\n          <el-tooltip effect=\"dark\" content=\"删除电影\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\n            <el-button type=\"danger\" @click=\"isAbleDelete(scope.row.movieId)\" style=\"font-size: 18px;\">\n               删除\n            </el-button>\n          </el-tooltip>\n          <el-tooltip effect=\"dark\" content=\"影片类别管理\" placement=\"top\" :enterable=\"false\" :open-delay=\"500\">\n            <el-button type=\"warning\" @click=\"showEditCategoryDialog(scope.row.movieId)\" style=\"font-size: 18px;\">\n               类别\n            </el-button>\n          </el-tooltip>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!--分页区域-->\n    <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"queryInfo.pageNum\"\n        :page-sizes=\"[5, 7, 9]\"\n        :page-size=\"queryInfo.pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n    </el-pagination>\n    </el-card>\n\n    <!--添加电影对话框-->\n    <el-dialog title=\"添加电影\" :visible.sync=\"addDialogVisible\" width=\"60%\" @close=\"addDialogClosed\">\n      <!--内容主题区-->\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"100px\">\n        <!--prop：在addFormRules中定义校验规则， v-model：双向绑定数据-->\n        <el-form-item label=\"电影名称\" prop=\"movieName\">\n          <el-input v-model=\"addForm.movieName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"电影区域\" prop=\"movieArea\">\n          <el-select v-model=\"addForm.movieArea\" placeholder=\"请选择电影区域\" clearable >\n            <el-option\n                    v-for=\"item in movieAreaList\"\n                    :key=\"item\"\n                    :label=\"item\"\n                    :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"电影时长/分钟\" prop=\"movieLength\">\n          <el-input v-model=\"addForm.movieLength\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"上映时间\" prop=\"releaseDate\">\n          <el-date-picker\n              v-model=\"addForm.releaseDate\"\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\n              type=\"datetime\"\n              placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"电影简介\" prop=\"movieIntroduction\">\n          <el-input v-model=\"addForm.movieIntroduction\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"电影封面\">\n          <el-upload action=\"\" list-type=\"picture-card\"\n                     :auto-upload=\"false\" :limit=\"1\"\n                     :file-list=\"poster\" :on-exceed=\"handleExceed\"\n                     :on-change=\"handleChangeP\"\n                     :on-success=\"handleSuccessP\"\n                     :on-error=\"handleError\" ref=\"posterRef\"\n                     :http-request=\"submitFileP\">\n            <i slot=\"default\" class=\"el-icon-plus\" ></i>\n            <div slot=\"file\" slot-scope=\"{file}\">\n              <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\">\n              <span class=\"el-upload-list__item-actions\">\n                <span class=\"el-upload-list__item-preview\" @click=\"handlePictureCardPreviewP(file)\">\n                  <i class=\"el-icon-zoom-in\"></i>\n                </span>\n                <span v-if=\"!disabled\" class=\"el-upload-list__item-delete\" @click=\"handleRemoveP(file)\">\n                  <i class=\"el-icon-delete\"></i>\n                </span>\n              </span>\n            </div>\n          </el-upload>\n          <!--放大预览-->\n          <el-dialog :visible.sync=\"dialogVisible\" append-to-body>\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n        </el-form-item>\n        <!--        修改图集-->\n        <el-form-item label=\"电影图集\">\n          <el-upload action=\"\" list-type=\"picture-card\" :auto-upload=\"false\"\n                     :file-list=\"pics\" :on-change=\"handleChange\"\n                     :on-success=\"handleSuccess\" :on-error=\"handleError\"\n                     ref=\"pictureRef\" :http-request=\"submitFile\">\n            <i slot=\"default\" class=\"el-icon-plus\"></i>\n            <div slot=\"file\" slot-scope=\"{file}\">\n              <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\">\n              <span class=\"el-upload-list__item-actions\">\n                <span class=\"el-upload-list__item-preview\" @click=\"handlePictureCardPreview(file)\">\n                  <i class=\"el-icon-zoom-in\"></i>\n                </span>\n                <span v-if=\"!disabled\" class=\"el-upload-list__item-delete\" @click=\"handleRemove(file)\">\n                  <i class=\"el-icon-delete\"></i>\n                </span>\n              </span>\n            </div>\n          </el-upload>\n          <!--放大预览-->\n          <el-dialog :visible.sync=\"dialogVisible\" append-to-body>\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n        </el-form-item>\n      </el-form>\n      <!--底部区域-->\n      <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"addDialogVisible = false\" style=\"font-size: 18px;\">  取 消</el-button>\n      <el-button type=\"primary\" @click=\"addMovie\" style=\"font-size: 18px;\">  确 定</el-button>\n      </span>\n    </el-dialog>\n\n\n    <!-- 修改电影信息对话框 -->\n    <el-dialog title=\"修改电影信息\" :visible.sync=\"editDialogVisible\" width=\"60%\" @close=\"editDialogClosed\">\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"100px\">\n        <el-form-item label=\"电影名称\" prop=\"movieName\">\n          <el-input v-model=\"editForm.movieName\" disabled></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"电影区域\" prop=\"movieArea\">\n          <el-select v-model=\"editForm.movieArea\" placeholder=\"请选择电影区域\" clearable >\n            <el-option\n              v-for=\"item in movieAreaList\"\n              :key=\"item\"\n              :label=\"item\"\n              :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"电影时长/分钟\" prop=\"movieLength\">\n          <el-input v-model=\"editForm.movieLength\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"上映时间\" prop=\"releaseDate\">\n          <el-date-picker\n              v-model=\"editForm.releaseDate\"\n              value-format=\"yyyy-MM-dd HH:mm:ss\"\n              type=\"datetime\"\n              placeholder=\"选择日期\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"电影简介\" prop=\"movieIntroduction\">\n          <el-input v-model=\"editForm.movieIntroduction\"></el-input>\n        </el-form-item>\n<!--        修改封面-->\n        <el-form-item label=\"电影封面\">\n          <el-upload action=\"\" list-type=\"picture-card\"\n                     :auto-upload=\"false\" :limit=\"1\"\n                     :file-list=\"poster\" :on-exceed=\"handleExceed\"\n                     :on-change=\"handleChangeP\"\n                     :on-success=\"handleSuccessP\"\n                     :on-error=\"handleError\" ref=\"posterEditRef\"\n                     :http-request=\"submitFileP\">\n            <i slot=\"default\" class=\"el-icon-plus\" ></i>\n            <div slot=\"file\" slot-scope=\"{file}\">\n              <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\">\n              <span class=\"el-upload-list__item-actions\">\n                <span class=\"el-upload-list__item-preview\" @click=\"handlePictureCardPreviewP(file)\">\n                  <i class=\"el-icon-zoom-in\"></i>\n                </span>\n                <span v-if=\"!disabled\" class=\"el-upload-list__item-delete\" @click=\"handleRemoveP(file)\">\n                  <i class=\"el-icon-delete\"></i>\n                </span>\n              </span>\n            </div>\n          </el-upload>\n          <!--放大预览-->\n          <el-dialog :visible.sync=\"dialogVisible\" append-to-body>\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n        </el-form-item>\n<!--        修改图集-->\n        <el-form-item label=\"电影图集\">\n          <el-upload action=\"\" list-type=\"picture-card\" :auto-upload=\"false\"\n                     :file-list=\"pics\" :on-change=\"handleChange\"\n                     :on-success=\"handleSuccess\"\n                     :on-error=\"handleError\" ref=\"pictureEditRef\"\n                     :http-request=\"submitFile\">\n            <i slot=\"default\" class=\"el-icon-plus\"></i>\n            <div slot=\"file\" slot-scope=\"{file}\">\n              <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\">\n              <span class=\"el-upload-list__item-actions\">\n                <span class=\"el-upload-list__item-preview\" @click=\"handlePictureCardPreview(file)\">\n                  <i class=\"el-icon-zoom-in\"></i>\n                </span>\n                <span v-if=\"!disabled\" class=\"el-upload-list__item-delete\" @click=\"handleRemove(file)\">\n                  <i class=\"el-icon-delete\"></i>\n                </span>\n              </span>\n            </div>\n          </el-upload>\n          <!--放大预览-->\n          <el-dialog :visible.sync=\"dialogVisible\" append-to-body>\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\n          </el-dialog>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\" style=\"font-size: 18px;\">  取 消</el-button>\n        <el-button type=\"primary\" @click=\"editMovieInfo\" style=\"font-size: 18px;\">  确 定</el-button>\n      </span>\n    </el-dialog>\n\n<!--    电影类型管理界面-->\n    <el-dialog title=\"电影类型管理\" :visible.sync=\"editCategoryVisible\" width=\"60%\" @close=\"editCategoryDialogClosed\">\n<!--      <template>-->\n<!--        <el-checkbox-group-->\n<!--            v-model=\"selectedMovieCategory\">-->\n<!--          <el-checkbox v-for=\"category in movieCategoryList\" :label=\"category.movieCategoryName\" :key=\"category.movieCategoryId\">{{category.movieCategoryName}}</el-checkbox>-->\n<!--        </el-checkbox-group>-->\n<!--      </template>-->\n      <el-form label-width=\"100px\">\n        <el-form-item label=\"电影类型\" prop=\"movieActor\">\n          <el-select v-model=\"selectedMovieCategory\" placeholder=\"请选择类型名称\" clearable>\n            <el-option\n                v-for=\"item in categoryList\"\n                :key=\"item.movieCategoryId\"\n                :label=\"item.movieCategoryName\"\n                :value=\"item.movieCategoryId\"\n                v-if=\"ifShow(item.movieCategoryId)\">\n            </el-option>\n          </el-select><br><br>\n        <el-button type=\"primary\" @click=\"addCategory()\"> 添加</el-button>\n        </el-form-item><hr>\n        <el-form-item>\n              <el-tag\n                  v-for=\"tag in editCategoryForm\"\n                  :key=\"tag.movieCategoryName\"\n                  closable\n                  @close=\"deleteCategory(tag.movieCategoryId)\">\n                {{tag.movieCategoryName}}\n              </el-tag>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MovieInfo\",\n  data() {\n    return {\n      queryInfo: {\n        movieId: '',\n        movieArea: '',\n        movieName: '',\n        startDate: '',\n        endDate: '',\n        pageNum: 1,\n        pageSize: 7\n      },\n      total: 0,\n      url: 'http://localhost:9231/',\n      //控制对话框的显示与隐藏\n      addDialogVisible: false,\n      selectedMovieCategory:[],\n      selectedMovieArea: '',\n      selectedDate: [],\n      inputMovieName: '',\n      categoryList:[],\n      movieList: [],\n      movieAreaList: [\"中国大陆\", \"美国\", \"韩国\", \"日本\", \"中国香港\", \"中国台湾\", \"泰国\", \"印度\",\n        \"法国\", \"英国\", \"俄罗斯\", \"意大利\", \"西班牙\", \"德国\", \"波兰\", \"澳大利亚\", \"伊朗\", \"其他\"],\n      editForm: {},\n      checkAbleId: {},\n      editCategoryForm:[],\n      movieId:'',\n      editDialogVisible: false,\n      editCategoryVisible: false,\n      multipleSelection: [],\n      dialogVisible: false,\n      dialogImageUrl: '',\n      disabled:false,\n      //电影封面增删变量\n      poster: [],\n      //发送给后端的JSON图片\n      posterL: [],\n      deletePostList:[],\n      //添加删除图片集 动态绑定图片列表\n      pics: [],\n      // 发送给后端的JSON图片数组\n      pictureList: [],\n      picNums:0,\n      deletePicList:[],\n      //添加电影表单数据\n      addForm: {\n        movieId: '',\n        movieName: '',\n        movieArea: '',\n        movieLength: 0,\n        releaseDate: '',\n        movieBoxOffice: '',\n        movieIntroduction: '',\n        moviePictures: '',\n        moviePoster:''\n      },\n      addFormRules: {\n        movieName: [\n          {required: true, message: '请输入电影名称', trigger: 'blur'}\n        ],\n        movieArea: [\n          {required: true, message: '请选择电影区域', trigger: 'blur'}\n        ]\n      },\n      //修改验证表单规则对象\n      editFormRules: {\n        movieName: [\n          {required: true, message: '请输入电影名称', trigger: 'blur'}\n        ],\n        movieArea: [\n          {required: true, message: '请选择电影区域', trigger: 'blur'}\n        ]\n      }\n    }\n  },\n  created() {\n    this.getMovieList()\n    this.getCategoryList()\n  },\n methods: {\n    getMovieList() {\n      this.queryInfo.movieName = this.inputMovieName\n      this.queryInfo.movieArea = this.selectedMovieArea\n      if (!this.selectedDate) {\n        this.queryInfo.startDate = this.selectedDate[0]\n        this.queryInfo.endDate = this.selectedDate[1]\n      }\n      const _this = this;\n      axios.get('sysMovie/find', {params: _this.queryInfo}).then(resp => {\n        console.log(resp)\n        _this.movieList = resp.data.data;\n        _this.total = resp.data.total;\n        _this.queryInfo.pageSize = resp.data.pageSize;\n        _this.queryInfo.pageNum = resp.data.pageNum;\n      })\n    },\n    getCategoryList() {\n      const _this = this\n      axios.get('sysMovieCategory/find').then(resp=>{\n        _this.categoryList = resp.data.data;\n        console.log(_this.categoryList)\n      })\n    },\n    ifShow(id) {\n      let l = true\n      for (let i = 0; i < this.editCategoryForm.length; i++) {\n        if (id === this.editCategoryForm[i].movieCategoryId) {\n          l =false\n        }\n      }\n      return l\n    },\n    handleSizeChange(newSize) {\n      this.queryInfo.pageSize = newSize\n      this.getMovieList()\n      console.log(newSize)\n    },\n    handleCurrentChange(newPage) {\n      this.queryInfo.pageNum = newPage\n      this.getMovieList()\n      console.log(newPage)\n    },\n    async submitFile() {\n      const _this = this\n      for (let i = 0; i < this.pics.length; i++) {\n        let formData = new FormData()\n        if (this.pics[i].status === 'success') {\n          let s = this.pics[i].url\n          this.pictureList.push(s.substring(s.indexOf('/images')))\n          continue\n        }\n        let file = this.pics[i].raw\n        formData.append('file', file)\n        await axios.post('upload/movie', formData).then(response => {\n          _this.pictureList.push(response.data.data)\n        })\n      }\n    },\n    async submitFileP() {\n      const _this = this\n      for (let i = 0; i < this.poster.length; i++) {\n        let formData = new FormData()\n        if (this.poster[i].status === 'success') {\n          let s = this.poster[i].url\n          this.posterL.push(s.substring(s.indexOf('/images')))\n          continue\n        }\n        let file = this.poster[i].raw\n        formData.append('file', file)\n        await axios.post('upload/movie', formData).then(response => {\n          _this.posterL.push(response.data.data)\n        })\n      }\n    },\n    // 监听添加对话框的关闭事件\n    addDialogClosed() {\n      this.$refs.addFormRef.resetFields()\n      this.$refs.pictureRef.clearFiles()\n      this.$refs.posterRef.clearFiles()\n      this.poster = []\n      this.posterL=[]\n      this.pics = []\n      this.pictureList = []\n    },\n    // 监听添加按钮\n    async addMovie() {\n      await this.submitFile()\n      await this.submitFileP()\n      this.addForm.moviePictures = JSON.stringify(this.pictureList)\n      this.addForm.moviePoster = JSON.stringify(this.posterL)\n      const _this = this\n      this.$refs.addFormRef.validate(async valid => {\n        console.log(valid)\n        if (!valid) return\n        //预校验成功，发网络请求\n        axios.defaults.headers.post['Content-Type'] = 'application/json'\n        await axios.post('sysMovie', JSON.stringify(_this.addForm)).then(resp => {\n          console.log(resp)\n          if (resp.data.code !== 200) {\n            this.$message.error('添加电影信息失败！')\n          }\n        })\n        //隐藏添加对话框\n        this.addDialogVisible = false\n        //重新加载列表\n        this.getMovieList()\n        this.$message.success('添加电影信息成功！')\n      })\n    },\n    // 监听修改对话框的关闭事件\n    editDialogClosed() {\n      this.$refs.editFormRef.resetFields()\n      this.$refs.pictureEditRef.clearFiles()\n      this.$refs.posterEditRef.clearFiles()\n      this.pics = []\n      this.pictureList = []\n      this.posterL = []\n      this.poster = []\n    },\n    //监听修改类别对话框的关闭事件\n    editCategoryDialogClosed(){\n      this.selectedMovieCategory = ''\n    },\n    // 修改电影信息对话框\n    async editMovieInfo() {\n      await this.submitFile()\n      this.editForm.moviePictures = JSON.stringify(this.pictureList)\n      await this.submitFileP()\n      this.editForm.moviePoster = JSON.stringify(this.posterL)\n      this.$refs.editFormRef.validate(async valid => {\n        const _this = this\n        if (!valid) return\n        let success = true\n        axios.defaults.headers.put['Content-Type'] = 'application/json'\n        await axios.put('sysMovie', JSON.stringify(_this.editForm)).then(resp => {\n          if (resp.data.code !== 200) {\n            this.$message.error('修改电影信息失败！')\n            success = false\n          }\n        })\n        if (!success) return\n        for(let s of this.deletePicList){\n          await axios.get('/upload/delete?filePath=' + s.substring(s.indexOf('/images')))\n        }\n        for(let s of this.deletePostList){\n          await axios.get('/upload/delete?filePath=' + s.substring(s.indexOf('/images')))\n        }\n        this.editDialogVisible = false\n        this.getMovieList()\n        this.$message.success('修改电影信息成功！')\n      })\n    },\n    handleChange(file, filelist) {\n      this.pics = filelist.slice(0)\n      console.log(this.pics)\n    },\n    handleChangeP(file, filelist) {\n      this.poster = filelist\n      console.log(this.poster)\n    },\n    handleSuccess(response) {\n      this.pictureList.push(response.data)\n      this.addForm = JSON.stringify(this.pictureList)\n      this.editForm = JSON.stringify(this.pictureList)\n    },\n    handleSuccessP(response) {\n      this.posterL.push(response.data)\n      this.addForm = JSON.stringify(this.posterL)\n      this.editForm = JSON.stringify(this.posterL)\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    handlePictureCardPreviewP(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    handleRemove(file,filelist) {\n      const filePath = file.url\n      console.log(filePath)\n      const idx = this.pics.findIndex(x => x.url === filePath)\n      if(file.status === 'success'){\n        this.deletePicList.push(file.url)\n      }\n      this.pics.splice(idx, 1)\n    },\n    handleRemoveP(file) {\n      const filePath = file.url\n      console.log(filePath)\n      const idx = this.poster.findIndex(x=> x.url === filePath)\n      if(file.status === 'success'){\n        this.deletePostList.push(file.url)\n      }\n      this.poster.splice(idx,1)\n    },\n    handleError(err) {\n      console.log(err)\n    },\n    toMovieInfo(id) {\n      window.open('http://localhost:9232/movieInfo/' + id)\n    },\n    isAbleEdit(id) {\n      this.checkAbleId.movieId = id\n      axios.get('sysSession/isAbleEdit', {params: this.checkAbleId}).then(response => {\n        console.log(response.data.total)\n        let sessions = response.data.data\n        if (response.data.total === 0) {\n          console.log('空的可改')\n          this.showEditDialog(id)\n        } else {\n          console.log('修改前判断有未完成session')\n          let sessionIds = ''\n          for (let temp of sessions) {\n            console.log(temp)\n            sessionIds += temp.sessionId+' '\n          }\n          console.log('sessionIds is : '+sessionIds)\n          this.$alert('抱歉！有未完成电影场次，不能修改电影信息。\\n'+'导致异常的场次编号为: '+sessionIds, '修改请求异常通知', {\n            confirmButtonText: '我知道了',\n            callback: action => {\n              this.$router.push('/movie')\n            }\n          })\n        }\n      })\n    },\n    // 显示修改对话框，回显数据\n    async showEditDialog(id) {\n      const _this = this\n      await axios.get('sysMovie/find/' + id).then(resp => {\n        console.log(resp)\n        _this.editForm = resp.data.data\n      })\n      for (const item of JSON.parse(this.editForm.moviePictures)) {\n        let pic = {}\n        pic['name'] = ''\n        pic['url'] = this.global.base + item\n        this.pics.push(pic)\n      }\n      for (const item of JSON.parse(this.editForm.moviePoster)) {\n        let pic = {}\n        pic['name'] = ''\n        pic['url'] = this.global.base + item\n        this.poster.push(pic)\n      }\n      this.editDialogVisible = true\n    },\n    //显示修改类别对话框,回显数据\n    async showEditCategoryDialog(id){\n      const _this = this\n      _this.movieId = id\n      await axios.get('sysMovie/find/'+id).then(response=>{\n        _this.editCategoryForm = response.data.data.movieCategoryList\n        })\n      this.editCategoryVisible = true\n    },\n    //取消修改\n    cancelEdit(){\n      this.editDialogVisible = false\n      this.deletePicList.splice(0,this.deletePicList.length)\n      this.deletePostList.splice(0,this.deletePostList.length)\n    },\n    // 监听多选框变化\n    handleSelectionChange(val) {\n      this.multipleSelection = val\n    },\n    // 批量删除前校验\n    async isAbleMultipleDelete() {\n      let ableDelete = true\n      let ids = ''\n      for (let i = 0; i < this.multipleSelection.length; i++) {\n        this.checkAbleId.movieId = this.multipleSelection[i].movieId\n        const { data : res } = await axios.get('sysSession/isAbleEdit', {params: this.checkAbleId})\n        if (res.data.length !== 0) {\n          ids += this.multipleSelection[i].movieId + ' '\n          ableDelete = false\n        }\n      }\n      if (ableDelete === false) {\n        this.$alert('抱歉！有未完成电影场次，不能批量删除电影信息。\\n' + '导致异常的电影编号为: ' + ids, '批量删除请求异常通知', {\n          confirmButtonText: '我知道了',\n          callback: action => {\n            this.$router.push('/movie')\n          }\n        })\n        return\n      }\n      await this.multipleDelete()\n    },\n    // 批量删除电影\n    async multipleDelete() {\n      const _this = this\n      //询问用户是否确认删除\n      const resp = await this.$confirm('此操作将永久删除这些条目, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => err)\n\n      // 用户确认删除, resp为字符串\"confirm\"\n      // 用户取消删除，resp为字符串\"cancel\"\n      if (resp === 'cancel') {\n        return _this.$message.info('已取消删除')\n      }\n\n      let ids = []\n      this.multipleSelection.forEach(data => {\n        let item = data.movieId\n        ids.push(item)\n      })\n      console.log(ids)\n      axios.defaults.headers.post['Content-Type'] = 'application/json'\n      await axios.delete('sysMovie/' + ids, JSON.stringify(ids)).then(resp => {\n        console.log(123)\n        if (resp.data.code !== 200) {\n          this.$message.success('批量删除电影失败！')\n        }\n      })\n      this.getMovieList()\n      this.$message.success('批量删除电影成功！')\n    },\n    async isAbleDelete(id) {\n      this.checkAbleId.movieId = id\n      await axios.get('sysSession/isAbleEdit', {params: this.checkAbleId}).then(response => {\n        console.log(response.data.total)\n        let sessions = response.data.data\n        if (response.data.total === 0) {\n          this.deleteMovieById(id)\n        } else {\n          console.log('删除前判断有未完成session')\n          let sessionIds = ''\n          for (let temp of sessions) {\n            console.log(temp)\n            sessionIds += temp.sessionId+' '\n          }\n          console.log('sessionIds is : '+sessionIds)\n          this.$alert('抱歉！有未完成电影场次，不能删除电影信息。\\n'+'导致异常的场次编号为: '+sessionIds, '删除请求异常通知', {\n            confirmButtonText: '确认',\n            callback: action => {\n              this.$router.push('/movie')\n            }\n          })\n        }\n      })\n    },\n    // 单个删除电影\n    async deleteMovieById(id) {\n      let deleteInfo = id\n      const _this = this\n      //询问用户是否确认删除\n      const resp = await this.$confirm('此操作将永久删除该条目, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => err)\n\n      // 用户确认删除, resp为字符串\"confirm\"\n      // 用户取消删除，resp为字符串\"cancel\"\n      console.log(resp)\n      if (resp === 'cancel') {\n        return _this.$message.info('已取消删除')\n      }\n\n      console.log(deleteInfo)\n      axios.defaults.headers.post['Content-Type'] = 'application/json'\n      await axios.delete('sysMovie/' + deleteInfo, JSON.stringify(deleteInfo)).then(resp => {\n        if (resp.data.code !== 200) {\n          _this.$message.success('删除电影信息失败！')\n        }\n      })\n      this.getMovieList()\n      this.$message.success('删除电影信息成功！')\n    },\n    async deleteCategory(categoryId){\n      console.log('类型id')\n      console.log(categoryId)\n      const _this = this\n      await axios.delete('sysMovieToCategory/'+this.movieId+'/'+categoryId).then(resp=>{\n        console.log(resp)\n        _this.$message.success('删除类型成功')\n      })\n      await axios.get('sysMovie/find/'+this.movieId).then(response=>{\n        _this.editCategoryForm = response.data.data.movieCategoryList\n      })\n    },\n    handleExceed(){\n      this.$message.error('电影封面不能超过一张!')\n    },\n    async addCategory(){\n      const _this = this\n      await axios.post('sysMovieToCategory/'+this.movieId+'/'+this.selectedMovieCategory).then(resp=>{\n        console.log(resp)\n        if (resp.data.code !==200) return this.$alert('添加电影类别失败', '添加电影类别异常通知', {\n          confirmButtonText: '我知道了'\n        })\n        this.$message.success(\"添加电影类别成功\")\n      })\n      axios.get('sysMovie/find/'+this.movieId).then(response=>{\n        _this.editCategoryForm = response.data.data.movieCategoryList\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 全局卡片样式增强 */\n.el-card {\n  margin: 20px;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);\n  transition: box-shadow 0.3s ease;\n}\n\n.el-card:hover {\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);\n}\n\n/* 搜索区域优化 */\n.el-row {\n  gap: 15px;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.el-date-editor {\n  width: 100%;\n}\n\n/* 操作按钮组样式 */\n.row2 {\n  margin: 20px 0;\n  display: flex;\n  gap: 15px;\n}\n\n/* 表格样式优化 */\n.el-table {\n  margin: 20px 0;\n  --el-table-header-bg-color: #f8f9fa;\n  --el-table-row-hover-bg-color: #f8f9fa;\n}\n\n.el-table__body td {\n  padding: 12px 0;\n}\n\n/* 分页组件紧凑化 */\n.el-pagination {\n  margin-top: 20px;\n  padding: 12px 16px;\n  background: #fff;\n  border-radius: 8px;\n}\n\n/* 对话框表单统一间距 */\n.el-dialog__body {\n  padding: 20px 30px;\n}\n\n.el-form-item {\n  margin-bottom: 22px;\n}\n\n/* 图片上传区域网格布局 */\n.el-upload-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n  gap: 15px;\n}\n\n.el-upload-list__item {\n  width: 100% !important;\n  height: 160px;\n  border-radius: 8px;\n  transition: transform 0.2s;\n}\n\n.el-upload-list__item:hover {\n  transform: translateY(-3px);\n}\n\n/* 分类标签现代样式 */\n.el-tag {\n  margin: 0 8px 8px 0;\n  padding: 0 12px;\n  height: 32px;\n  line-height: 30px;\n  background: #f8f9fa;\n  border: 1px solid #e9ecef;\n  color: #495057;\n  border-radius: 20px;\n}\n\n/* 按钮统一风格 */\n.el-button {\n  font-size: 14px;\n  padding: 10px 20px;\n  border-radius: 6px;\n  transition: all 0.2s;\n}\n\n.el-button--primary {\n  background: linear-gradient(135deg, #409eff, #2979ff);\n  border: none;\n}\n\n.el-button--danger {\n  background: linear-gradient(135deg, #ff4d4f, #f5222d);\n  border: none;\n}\n\n/* 响应式处理 */\n@media (max-width: 768px) {\n  .el-col {\n    width: 100%;\n    margin-bottom: 10px;\n  }\n\n  .el-select {\n    width: 100%;\n  }\n\n  .el-upload-list {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .row2 {\n    flex-direction: column;\n  }\n}\n\n/* 电影封面特殊样式 */\n.poster-upload {\n  .el-upload {\n    width: 200px !important;\n    height: 280px !important;\n  }\n\n  .el-upload-list__item {\n    width: 200px !important;\n    height: 280px !important;\n  }\n}\n\n/* 分类选择下拉样式 */\n.el-select-dropdown__item {\n  padding: 10px 20px;\n  transition: all 0.2s;\n}\n\n/* 表单标签统一宽度 */\n.el-form-item__label {\n  width: 120px !important;\n  justify-content: flex-end;\n}\n\n/* 时间选择器紧凑布局 */\n.el-date-editor--datetime {\n  width: 100%;\n  max-width: 320px;\n}\n\n/* 操作列按钮间距 */\n.el-table-column--fixed-right .cell {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n</style>\n"]}]}
{"remainingRequest":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\whisper\\cinema\\CinemaManagerUserVue\\src\\views\\movie\\MovieInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\src\\views\\movie\\MovieInfo.vue","mtime":1742716382574},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTW92aWVJbmZvIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW92aWVJbmZvOiB7CiAgICAgICAgbW92aWVQaWN0dXJlczogW10sCiAgICAgICAgbW92aWVCb3hPZmZpY2U6IDAKICAgICAgfSwKICAgICAgbW92aWVJZDogdGhpcy4kcm91dGUucGFyYW1zLm1vdmllSWQsCiAgICAgIGFjdGl2ZU5hbWU6ICdwaWN0dXJlcycsCiAgICAgIGh0dHBVUkw6IHRoaXMuZ2xvYmFsLmJhc2UKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldE1vdmllSW5mbygpCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRNb3ZpZUluZm8oKXsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCB7ZGF0YSA6IHJlc30gPSBhd2FpdCBheGlvcy5nZXQoJ3N5c01vdmllL2ZpbmQvJyArIHRoaXMubW92aWVJZCkKICAgICAgICBpZihyZXMuY29kZSAhPT0gMjAwKSB0aHJvdyBuZXcgRXJyb3IoJ+aVsOaNruafpeivouWksei0pScpCgogICAgICAgIC8vIOWkhOeQhuWbvueJh+i3r+W+hAogICAgICAgIHRoaXMubW92aWVJbmZvID0gewogICAgICAgICAgLi4ucmVzLmRhdGEsCiAgICAgICAgICBtb3ZpZVBvc3RlcjogdGhpcy5odHRwVVJMICsgSlNPTi5wYXJzZShyZXMuZGF0YS5tb3ZpZVBvc3RlcilbMF0sCiAgICAgICAgICBtb3ZpZVBpY3R1cmVzOiBKU09OLnBhcnNlKHJlcy5kYXRhLm1vdmllUGljdHVyZXMpLm1hcChpbWcgPT4gdGhpcy5odHRwVVJMICsgaW1nKSwKICAgICAgICAgIG1vdmllQ2F0ZWdvcnlMaXN0OiByZXMuZGF0YS5tb3ZpZUNhdGVnb3J5TGlzdAogICAgICAgICAgICAubWFwKGMgPT4gYy5tb3ZpZUNhdGVnb3J5TmFtZSkKICAgICAgICAgICAgLmpvaW4oIiAvICIpCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3IubWVzc2FnZSkKICAgICAgfQogICAgfSwKICAgIHRvQ2hvb3NlU2Vzc2lvbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9jaG9vc2VTZXNzaW9uLzFgKQogICAgfQogIH0KfQo="},{"version":3,"sources":["MovieInfo.vue"],"names":[],"mappings":";AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MovieInfo.vue","sourceRoot":"src/views/movie","sourcesContent":["<template>\n  <div class=\"movie-container\">\n    <div class=\"header\">\n      <div class=\"header-inner\">\n        <!-- 横向布局容器 -->\n        <div class=\"movie-info-main\">\n          <!-- 电影海报 -->\n          <div class=\"movie-poster\">\n            <img class=\"avatar\" :src=\"movieInfo.moviePoster\">\n          </div>\n\n          <!-- 右侧内容区 -->\n          <div class=\"movie-info-right-content\">\n            <!-- 电影标题和基础信息 -->\n            <div class=\"movie-basic-info\">\n              <h1 class=\"movie-name\">{{movieInfo.movieName}}</h1>\n              <div class=\"movie-category\">{{movieInfo.movieCategoryList}}</div>\n              <div class=\"movie-meta\">\n                {{movieInfo.movieArea}} / {{movieInfo.movieLength}}分钟 |\n                {{movieInfo.releaseDate}} {{movieInfo.movieArea}} 上映\n              </div>\n            </div>\n\n            <!-- 剧情简介 -->\n            <div class=\"plot-summary\">\n              <p>{{movieInfo.movieIntroduction}}</p>\n            </div>\n\n            <!-- 底部操作区 -->\n            <div class=\"action-area\">\n              <!-- 购票按钮 -->\n              <div class=\"buy-ticket-btn\">\n                <el-button class=\"buy-btn\" type=\"primary\" @click=\"toChooseSession\">\n                  ✔ 特惠购票\n                </el-button>\n              </div>\n\n              <!-- 票房信息 -->\n              <div class=\"movie-box-office\">\n                <div class=\"movie-index-title\">累计票房</div>\n                <div class=\"box-office-container\">\n                  <span class=\"box-office\">{{movieInfo.movieBoxOffice}}</span>\n                  <span class=\"unit\">元</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 面包屑导航 -->\n        <div class=\"crumbs-nav-container\">\n          <a href=\"/welcome\">首页</a> > <a href=\"/movie\">电影</a> > {{movieInfo.movieName}}\n        </div>\n\n        <!-- 图集选项卡 -->\n        <el-tabs v-model=\"activeName\">\n          <el-tab-pane label=\"图集\" name=\"pictures\">\n            <div class=\"tab-body\">\n              <div class=\"pictures-list\">\n                <div class=\"picture-grid\">\n                  <div v-if=\"movieInfo.moviePictures.length === 0\" class=\"empty-tips\">\n                    暂无图片资源\n                  </div>\n                  <el-image\n                    v-for=\"(item, index) in movieInfo.moviePictures\"\n                    :key=\"index\"\n                    class=\"gallery-img\"\n                    :src=\"item\"\n                    :preview-src-list=\"movieInfo.moviePictures\"\n                    fit=\"cover\"\n                  />\n                </div>\n              </div>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MovieInfo\",\n  data() {\n    return {\n      movieInfo: {\n        moviePictures: [],\n        movieBoxOffice: 0\n      },\n      movieId: this.$route.params.movieId,\n      activeName: 'pictures',\n      httpURL: this.global.base\n    }\n  },\n  created() {\n    this.getMovieInfo()\n  },\n  methods: {\n    async getMovieInfo(){\n      try {\n        const {data : res} = await axios.get('sysMovie/find/' + this.movieId)\n        if(res.code !== 200) throw new Error('数据查询失败')\n\n        // 处理图片路径\n        this.movieInfo = {\n          ...res.data,\n          moviePoster: this.httpURL + JSON.parse(res.data.moviePoster)[0],\n          moviePictures: JSON.parse(res.data.moviePictures).map(img => this.httpURL + img),\n          movieCategoryList: res.data.movieCategoryList\n            .map(c => c.movieCategoryName)\n            .join(\" / \")\n        }\n      } catch (error) {\n        this.$message.error(error.message)\n      }\n    },\n    toChooseSession() {\n      this.$router.push(`/chooseSession/1`)\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 基础容器 */\n.movie-container {\n  background: linear-gradient(\n    135deg,\n    #ffffff 0%,  /* 纯白 */\n    #f8f9fa 100%  /* 浅灰 */\n  );\n  min-height: 100vh;\n  padding: 30px 0;\n}\n\n/* 主内容区 */\n.header-inner {\n  max-width: 1200px;\n  margin: 0 auto;\n  background: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-radius: 16px;\n  box-shadow: 0 8px 24px rgba(0,0,0,0.05);\n  padding: 24px;\n}\n\n/* 横向布局容器 */\n.movie-info-main {\n  display: flex;\n  gap: 32px;\n  position: relative;\n}\n\n/* 海报样式 */\n.movie-poster {\n  width: 280px;\n  height: 420px;\n  flex-shrink: 0;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n  background: #f8f9fa;\n}\n\n.avatar {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s;\n}\n\n.avatar:hover {\n  transform: scale(1.03);\n}\n\n/* 右侧内容区 */\n.movie-info-right-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-height: 420px;\n}\n\n/* 基本信息样式 */\n.movie-name {\n  font-size: 32px;\n  margin: 0 0 12px;\n  color: #2c3e50;\n  line-height: 1.2;\n}\n\n.movie-category {\n  color: #409EFF;\n  font-weight: 500;\n  margin-bottom: 8px;\n  font-size: 16px;\n}\n\n.movie-meta {\n  color: #666;\n  font-size: 14px;\n  margin-bottom: 20px;\n}\n\n/* 剧情简介 */\n.plot-summary {\n  flex: 1;\n  line-height: 1.8;\n  color: #4a5568;\n  font-size: 15px;\n  overflow-y: auto;\n  padding-right: 15px;\n  margin: 15px 0;\n}\n\n/* 底部操作区 */\n.action-area {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  margin-top: 20px;\n}\n\n.buy-ticket-btn .buy-btn {\n  width: 180px;\n  height: 48px;\n  font-size: 18px !important;\n  border-radius: 24px !important;\n  transition: all 0.3s;\n  background: linear-gradient(to right, #409EFF, #36c2cf) !important;\n  border: none !important;\n  color: white !important;\n}\n\n.movie-box-office {\n  text-align: right;\n}\n\n.box-office {\n  font-size: 28px;\n  color: #ff9100;\n  font-weight: bold;\n}\n\n.unit {\n  font-size: 14px;\n  color: #666;\n}\n\n/* 图集样式 */\n.picture-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 16px;\n  padding: 20px 0;\n}\n\n.gallery-img {\n  height: 150px;\n  border-radius: 8px;\n  transition: transform 0.3s;\n  cursor: pointer;\n  border: 1px solid #eee;\n}\n\n.gallery-img:hover {\n  transform: translateY(-3px);\n}\n\n/* 面包屑导航 */\n.crumbs-nav-container {\n  color: #666;\n  margin: 24px 0 16px;\n  font-size: 14px;\n}\n\n.crumbs-nav-container a {\n  color: #409EFF;\n  transition: color 0.3s;\n  text-decoration: none;\n}\n\n.crumbs-nav-container a:hover {\n  color: #297acc;\n}\n\n/* 响应式处理 */\n@media (max-width: 768px) {\n  .movie-info-main {\n    flex-direction: column;\n  }\n\n  .movie-poster {\n    width: 100%;\n    height: auto;\n    max-width: 400px;\n    margin: 0 auto;\n  }\n\n  .movie-info-right-content {\n    min-height: auto;\n  }\n\n  .action-area {\n    flex-direction: column;\n    gap: 20px;\n    align-items: flex-start;\n  }\n\n  .movie-name {\n    font-size: 24px;\n  }\n\n  .gallery-img {\n    height: 120px;\n  }\n\n  .buy-ticket-btn .buy-btn {\n    width: 100%;\n  }\n}\n\n@media (max-width: 480px) {\n  .header-inner {\n    padding: 16px;\n  }\n\n  .movie-name {\n    font-size: 22px;\n  }\n\n  .movie-category {\n    font-size: 14px;\n  }\n\n  .movie-meta {\n    font-size: 13px;\n  }\n\n  .plot-summary {\n    font-size: 14px;\n  }\n\n  .box-office {\n    font-size: 24px;\n  }\n}\n</style>\n"]}]}
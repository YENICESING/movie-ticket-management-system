{"remainingRequest":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\babel-loader\\lib\\index.js!D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\whisper\\cinema\\CinemaManagerUserVue\\src\\views\\search\\SearchMovie.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\src\\views\\search\\SearchMovie.vue","mtime":1740976745058},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\babel.config.js","mtime":1713545016820},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\whisper\\cinema\\CinemaManagerUserVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLm1hcC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiU2VhcmNoTW92aWUiLAogIHByb3BzOiB7CiAgICBrZXl3b3JkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb3ZpZUxpc3Q6IFt7CiAgICAgICAgbW92aWVDYXRlZ29yeUxpc3Q6IFtdLAogICAgICAgIG1vdmllSWQ6IDAsCiAgICAgICAgbW92aWVMZW5ndGg6IDAsCiAgICAgICAgbW92aWVOYW1lOiAnJywKICAgICAgICBtb3ZpZVBvc3RlcjogJycsCiAgICAgICAgcmVsZWFzZURhdGU6ICcnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0U2VhcmNoTW92aWVMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRTZWFyY2hNb3ZpZUxpc3QoKSB7CiAgICAgIGxldCBxdWVyeUluZm8gPSB7CiAgICAgICAgbW92aWVOYW1lOiB0aGlzLmtleXdvcmQKICAgICAgfTsKICAgICAgY29uc3QgewogICAgICAgIGRhdGE6IHJlcwogICAgICB9ID0gYXdhaXQgYXhpb3MuZ2V0KCdzeXNNb3ZpZS9maW5kJywgewogICAgICAgIHBhcmFtczogcXVlcnlJbmZvCiAgICAgIH0pOwogICAgICBpZiAocmVzLmNvZGUgIT09IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluS/oeaBr+Wksei0pScpOwogICAgICB0aGlzLm1vdmllTGlzdCA9IHJlcy5kYXRhOwogICAgICAvL+WkhOeQhuaVsOaNrgogICAgICBmb3IgKGxldCBtb3ZpZSBvZiB0aGlzLm1vdmllTGlzdCkgewogICAgICAgIG1vdmllLm1vdmllUG9zdGVyID0gdGhpcy5nbG9iYWwuYmFzZSArIEpTT04ucGFyc2UobW92aWUubW92aWVQb3N0ZXIpWzBdOwogICAgICAgIG1vdmllLm1vdmllQ2F0ZWdvcnlMaXN0ID0gbW92aWUubW92aWVDYXRlZ29yeUxpc3QubWFwKChvYmosIGluZGV4KSA9PiB7CiAgICAgICAgICByZXR1cm4gb2JqLm1vdmllQ2F0ZWdvcnlOYW1lOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZScoKSB7CiAgICAgIHRoaXMuZ2V0U2VhcmNoTW92aWVMaXN0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["name","props","keyword","type","String","default","data","movieList","movieCategoryList","movieId","movieLength","movieName","moviePoster","releaseDate","created","getSearchMovieList","methods","queryInfo","res","axios","get","params","code","$message","error","movie","global","base","JSON","parse","map","obj","index","movieCategoryName","watch","$route"],"sources":["src/views/search/SearchMovie.vue"],"sourcesContent":["<!--组件属性：通过 props 接收父组件传递的 keyword 作为搜索关键词。\n数据定义：data 中定义了 movieList 数组，初始包含一个空的电影对象。\n生命周期钩子：created 钩子中调用 getSearchMovieList 方法，在组件创建时自动发起搜索请求。\n方法定义：getSearchMovieList 是一个异步方法，它使用 axios 发送 GET 请求到 sysMovie/find 接口，携带搜索关键词 movieName。\n若请求成功（响应码为 200），将响应数据赋值给 movieList，并对数据进行处理，包括拼接海报图片的完整路径和提取电影类型名称。\n路由监听：使用 watch 监听 $route 的变化，当路由发生改变时，重新调用 getSearchMovieList 方法进行搜索。-->\n<template>\n  <div class=\"search-container\">\n    <!-- 搜索的一部电影 -->\n    <div class=\"search-result\" v-for=\"item in movieList\" :key=\"item.movieId\">\n      <!-- 电影海报 -->\n      <div class=\"img-container\">\n        <a :href=\"'/movieInfo/' + item.movieId\">\n          <img :src=\"item.moviePoster\">\n        </a>\n      </div>\n      <!-- 电影信息 -->\n      <div class=\"movie-info\">\n        <div class=\"movie-name\">{{item.movieName}}</div>\n        <br/>\n        <div class=\"movie-category\">{{item.movieCategoryList.join('/')}}</div>\n        <br/>\n        <div class=\"movie-releaseDate\">{{item.releaseDate}}上映</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"SearchMovie\",\n  props:{\n    keyword: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return{\n      movieList: [\n        {\n          movieCategoryList: [],\n          movieId: 0,\n          movieLength: 0,\n          movieName: '',\n          moviePoster: '',\n          releaseDate: ''\n        }\n      ]\n    }\n  },\n  created() {\n    this.getSearchMovieList()\n  },\n  methods:{\n    async getSearchMovieList(){\n      let queryInfo = {\n        movieName: this.keyword\n      }\n      const { data : res } = await axios.get('sysMovie/find', {params : queryInfo})\n      if(res.code !== 200) return this.$message.error('获取信息失败')\n      this.movieList = res.data\n      //处理数据\n      for(let movie of this.movieList){\n        movie.moviePoster = this.global.base + JSON.parse(movie.moviePoster)[0]\n        movie.movieCategoryList = movie.movieCategoryList.map((obj, index) => {\n          return obj.movieCategoryName\n        })\n      }\n    }\n  },\n  watch:{\n    '$route'(){\n      this.getSearchMovieList()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.search-container{\n  width: 980px;\n  margin: 0px auto;\n  margin-bottom: 20px;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.search-result{\n  width: 460px;\n  margin: 30px 0 0 30px;\n  display: flex;\n}\n\n.img-container{\n  width: 160px;\n  height: 220px;\n  margin-right: 20px;\n}\n\n.img-container img{\n  width: 100%;\n  height: 100%;\n}\n\na{\n  text-decoration: none;\n  cursor:pointer;\n}\n\n.movie-info{\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  margin-top: 5px;\n  font-size: 16px;\n  width: 280px;\n  border-bottom: solid #eee 1px;\n}\n\n.movie-name{\n  font-size: 26px;\n  margin-top: 27px;\n}\n\n.movie-ename{\n  font-size: 14px;\n  color: #999;\n  margin-top: 3px;\n}\n\n.movie-score{\n  font-size: 26px;\n  margin-bottom: 13px;\n  color: #ffb400;\n  height: 31px;\n  line-height: 31px;\n}\n\n.movie-category{\n  color: #333;\n\n}\n\n.movie-releaseDate{\n  color: #999;\n}\n</style>\n"],"mappings":";AA6BA;EACAA,IAAA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,SAAA,GACA;QACAC,iBAAA;QACAC,OAAA;QACAC,WAAA;QACAC,SAAA;QACAC,WAAA;QACAC,WAAA;MACA;IAEA;EACA;EACAC,QAAA;IACA,KAAAC,kBAAA;EACA;EACAC,OAAA;IACA,MAAAD,mBAAA;MACA,IAAAE,SAAA;QACAN,SAAA,OAAAT;MACA;MACA;QAAAI,IAAA,EAAAY;MAAA,UAAAC,KAAA,CAAAC,GAAA;QAAAC,MAAA,EAAAJ;MAAA;MACA,IAAAC,GAAA,CAAAI,IAAA,sBAAAC,QAAA,CAAAC,KAAA;MACA,KAAAjB,SAAA,GAAAW,GAAA,CAAAZ,IAAA;MACA;MACA,SAAAmB,KAAA,SAAAlB,SAAA;QACAkB,KAAA,CAAAb,WAAA,QAAAc,MAAA,CAAAC,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAJ,KAAA,CAAAb,WAAA;QACAa,KAAA,CAAAjB,iBAAA,GAAAiB,KAAA,CAAAjB,iBAAA,CAAAsB,GAAA,EAAAC,GAAA,EAAAC,KAAA;UACA,OAAAD,GAAA,CAAAE,iBAAA;QACA;MACA;IACA;EACA;EACAC,KAAA;IACA,QAAAC,CAAA;MACA,KAAApB,kBAAA;IACA;EACA;AACA","ignoreList":[]}]}